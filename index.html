<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tether USD (BEP20) | One-Click Add</title>

<meta name="description" content="Add Tether USD (BEP20) to MetaMask or Trust Wallet with one click. Optimized for WhatsApp and mobile devices." />
<meta property="og:title" content="Tether USD (BEP20)" />
<meta property="og:image" content="https://yyoutoone-art.github.io/TetherUSD/logo.png" />
<meta property="og:url" content="https://yyoutoone-art.github.io/TetherUSD/" />

<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
  :root { --green:#00c78b; --bg1:#022c1f; --bg2:#0a4333; --bg3:#003320; }
  *{box-sizing:border-box}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(145deg,var(--bg1),var(--bg2),var(--bg3));color:#e8f8f4;margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:48px 16px}
  .card{width:100%;max-width:520px;background:rgba(255,255,255,.06);backdrop-filter:blur(12px);border-radius:22px;padding:40px 32px;text-align:center;box-shadow:0 8px 28px rgba(0,0,0,.35)}
  .logo{width:100px;height:100px;border-radius:50%;border:3px solid var(--green);box-shadow:0 0 18px rgba(0,255,170,.28);margin:6px auto 18px;display:block}
  h1{margin:6px 0 6px;font-weight:600;color:#00ffb3}
  p{margin:0;color:#a9c7b8}
  .buttons{margin-top:20px;display:flex;flex-direction:column;gap:12px}
  .btn{width:100%;padding:14px 16px;border:none;border-radius:12px;color:#fff;font-weight:600;font-size:16px;cursor:pointer;transition:.18s}
  .btn:hover{transform:translateY(-1px);opacity:.95}
  .auto{background:linear-gradient(90deg,#00c78b,#00e6a3)}
  .mm{background:linear-gradient(90deg,#f6851b,#ff9800)}
  .tw{background:linear-gradient(90deg,#3aa9f4,#2b80d9)}
  .cb{background:linear-gradient(90deg,#1652f0,#2870ff)}
  .btn[disabled]{opacity:.45;cursor:not-allowed;filter:grayscale(30%)}
  #success{display:none;margin-top:14px;color:#00ffb3;font-weight:700}
  footer{margin-top:18px;font-size:12px;color:#9bcbbd;opacity:.8}
</style>
</head>
<body>
  <main class="card">
    <img class="logo" src="https://yyoutoone-art.github.io/TetherUSD/logo.png" alt="Tether USD logo">
    <h1>Tether USD (BEP20)</h1>
    <p>Contract: <b>0xBb7e20348fCFD959e314747873b41d51Ef1f3474</b></p>

    <section class="buttons">
      <button class="btn auto" onclick="addAutomatically()">Add Automatically</button>
      <button id="btnMM" class="btn mm" onclick="addToMetaMask()">Add to MetaMask</button>
      <button class="btn tw" onclick="openTrust()">Add to Trust Wallet</button>
      <button class="btn cb" onclick="openCoinbase()">Open in Coinbase Wallet</button>
    </section>

    <div id="success">✔️ Token successfully added!</div>
    <footer>© 2025 Tether USD (BEP20)</footer>
  </main>

<script>
const CONTRACT = "0xBb7e20348fCFD959e314747873b41d51Ef1f3474";
const SYMBOL = "USDT";
const DECIMALS = 18;
const TOKEN_IMAGE = "https://yyoutoone-art.github.io/TetherUSD/logo.png";
const SITE_URL = "https://yyoutoone-art.github.io/TetherUSD/";

/* Environment detection */
const isMetaMaskEnv = () => typeof window.ethereum !== "undefined" && (window.ethereum.isMetaMask || /MetaMask/i.test(navigator.userAgent));
const isTrustEnv = () => /TrustWallet/i.test(navigator.userAgent) || window.ethereum?.isTrustWallet;

/* Deep links */
const MM_DAPP = `https://metamask.app.link/dapp/${new URL(SITE_URL).host}${new URL(SITE_URL).pathname}`;
const TRUST_DEEP = `trust://add_asset?address=${CONTRACT}&symbol=${SYMBOL}&decimals=${DECIMALS}`;
const TRUST_FALLBACK = `https://link.trustwallet.com/add_asset?address=${CONTRACT}&symbol=${SYMBOL}&decimals=${DECIMALS}`;

/* MetaMask add */
async function addToMetaMask() {
  if (!isMetaMaskEnv()) { window.location.href = MM_DAPP; return; }
  try {
    await window.ethereum.request({
      method: "wallet_watchAsset",
      params: { type: "ERC20", options: { address: CONTRACT, symbol: SYMBOL, decimals: DECIMALS, image: TOKEN_IMAGE } }
    });
    showSuccess();
  } catch(e){ console.error(e); }
}

/* ✅ Optimized DeepLink for Trust Wallet (WhatsApp-ready) */
function openTrust() {
  // مستقیماً اپ Trust Wallet رو باز کن
  window.location.href = TRUST_DEEP;

  // اگر باز نشد → به fallback بره
  setTimeout(() => {
    window.location.href = TRUST_FALLBACK;
  }, 1500);
}

/* Auto detection button */
async function addAutomatically() {
  if (isMetaMaskEnv()) { await addToMetaMask(); return; }
  openTrust();
}

/* Coinbase */
function openCoinbase() {
  window.location.href = `https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(SITE_URL)}`;
}

/* Success message */
function showSuccess() {
  const el = document.getElementById("success");
  el.style.display = "block";
  setTimeout(() => el.style.display = "none", 2500);
}
</script>
</body>
</html>
